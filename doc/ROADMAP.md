# **Project SNN: 新開発ロードマップ v8.0**

## **― 認知アーキテクチャの深化と実世界への展開 ―**

### **1\. 序論：プロトタイプから高忠実度システムへ**

本プロジェクトは、個々の認知コンポーネントの実装を完了し、それらを統合したArtificialBrainというプロトタイプを完成させた。これは、GPUへの依存を脱却し、人間の脳構造に着想を得た高効率なAIを創造するという我々のビジョンにおける、重要なマイルストーンである。

本ロードマップv8.0は、プロジェクトを次の段階、すなわち**プロトタイプの成熟**へと導くための設計図である。目標は、現在の抽象化されたコンポーネントをより現実に即した高忠実度なモデルに置き換え、システム全体の堅牢性を高め、そして最終的には実世界の問題解決に応用するためのユーザビリティを確立することにある。このフェーズは、単なる機能追加ではなく、システムの「質」を飛躍的に向上させるための戦略的投資である。

### **2\. 指導原則**

本ロードマップもまた、プロジェクトの核となる以下の原則に基づき推進される。

1. **微分からの脱却 (Beyond Differentiation):** 学習と推論のあらゆる側面において、勾配ベースの手法への依存を段階的に排除し、イベント駆動の離散計算原理を追求する。  
2. **因果性の追求 (Causality First):** 相関関係の学習に留まらず、スパイクの連鎖を辿ることで「なぜ」その結論に至ったかを理解する因果的学習を深化させる。  
3. **システム成熟度の向上 (System Maturation):** 個々のコンポーネントの性能向上だけでなく、システム全体の安定性、テストカバレッジ、そして操作性を重視する。  
4. **ハードウェアとの協調設計 (Hardware Co-Design):** すべてのソフトウェア開発は、ニューロモーフィックハードウェアの非同期・イベント駆動という計算原理から着想を得て、将来的な展開を常に見据える。

## **Part 1: 認知アーキテクチャの成熟**

**目的:** 現在抽象化されている認知モジュールを、設計書で描かれた、より現実に即した高性能な実装に置き換える。

### **フェーズ1：高忠実度な知覚 (High-Fidelity Perception) (完了)**

* **目標:** 現在の単純な特徴抽出ロジックを持つPerceptionCortexを、SNNとCNN（畳み込みニューラルネットワーク）の長所を組み合わせた、高性能なハイブリッドモデルに置き換える。  
* **主要技術:**  
  * **ハイブリッドアーキテクチャ:** 軽量な事前学習済みCNN（例: MobileNetV2）を特徴抽出器として利用し、その出力をスパイク系列に変換。後段のSNN（SomFeatureMapやSpikingTransformer層）が、抽出された特徴の時間的ダイナミクスを処理する。  
  * **ANN-SNN変換:** AnnToSnnConverterを活用し、CNN部分の重みを効率的にSNN互換の形式に変換する技術を探求する。  
* **実装計画:**  
  1. snn\_research/cognitive\_architecture/内にhybrid\_perception\_cortex.pyを新規作成する。  
  2. BrainContainerを修正し、PerceptionCortexのプロバイダを新しいHybridPerceptionCortexに切り替え可能にする。  
* **達成指標:** イベントベースの視覚データセット（例: N-MNIST）において、現在のPerceptionCortexと比較して認識精度が大幅に向上する。

### **フェーズ2：動的かつ情動的な意思決定 (Dynamic and Emotional Decision Making) (完了)**

* **目標:** Amygdala（扁桃体）によって評価された情動価を、BasalGanglia（大脳基底核）の行動選択プロセスに統合し、より文脈に応じた動的な意思決定を実現する。  
* **主要技術:**  
  * **情動変調:** Amygdalaが算出する情動価（Valence）と覚醒度（Arousal）に基づき、BasalGangliaの行動選択閾値や抑制の強さを動的に変更する。例えば、高い覚醒度と負の情動価（危険を察知）は、より迅速で防御的な行動選択を促す。  
  * **目標の再評価:** PrefrontalCortexが目標を設定する際に、現在の情動状態を考慮に入れる。  
* **実装計画:**  
  1. ArtificialBrainのrun\_cognitive\_cycleメソッドを修正し、Amygdalaの出力をBasalGangliaとPrefrontalCortexに伝達するフローを実装する。  
  2. BasalGangliaのselect\_actionメソッドを拡張し、情動状態に応じて内部パラメータを調整するロジックを追加する。  
* **達成指標:** 同じ状況でも、異なる情動状態（例: 快・不快）を与えることで、ArtificialBrainが異なる行動を選択することを確認する。

### **フェーズ3：記憶の固定と能動的想起 (Memory Consolidation and Active Recall) (完了)**

* **目標:** Hippocampus（海馬）の短期記憶とCortex（大脳皮質）の長期記憶の連携を強化し、睡眠中などに起こる「記憶の固定」プロセスと、計画立案時に長期記憶を能動的に「想起」するプロセスをシミュレートする。  
* **主要技術:**  
  * **記憶固定プロセス:** ArtificialBrainに、定期的に（または低負荷時に）Hippocampusに蓄積された最近のエピソードをCortexのナレッジグラフに変換・統合するバックグラウンドプロセスを実装する。  
  * **能動的想起:** HierarchicalPlannerが計画を立案する際に、まずCortexのナレッジグラフを検索し、関連する過去の知識（成功・失敗体験）を計画の参考にできるようにする。  
* **実装計画:**  
  1. ArtificialBrainにconsolidate\_memoriesメソッドを追加する。  
  2. HierarchicalPlannerのcreate\_planメソッドを修正し、計画立案の初期段階でCortexを検索するロジックを組み込む。  
* **達成指標:** 一度経験したタスクに再度直面した際、エージェントが長期記憶を参照し、初回よりも効率的な計画を立案できる。

## **Part 2: システムの統合とユーザビリティ**

**目的:** プロジェクト全体の安定性を高め、開発者が容易にシステムを操作・検証できる環境を構築する。

### **フェーズ4：CLIによる中央制御 (Centralized Control via CLI)**

* **目標:** snn-cli.pyを拡張し、人工脳全体のシミュレーションを開始・操作するための統一されたインターフェースを提供する。  
* **実装計画:**  
  1. snn-cli.pyに新しいサブコマンドグループbrainを追加する。  
  2. brain runコマンドを実装する。このコマンドは、内部でBrainContainerをセットアップし、run\_brain\_simulation.pyと同様の認知サイクルを、コマンドラインから与えられた単一の入力に対して実行する。  
  3. brain loopコマンドを実装し、複数の入力を対話的に与えながら認知サイクルを連続実行できるようにする。  
* **達成指標:** run\_brain\_simulation.pyを直接実行することなく、snn-cli.py brain run \--input\_text "some text"のようなコマンドでArtificialBrainの全機能が実行可能になる。

### **フェーズ5：包括的なテストスイートの拡充 (Comprehensive Test Suite Expansion) (完了)**

* **目標:** プロジェクトの信頼性を保証するため、テストカバレッジを大幅に向上させ、システムの安定性を確保する。  
* **主要技術:** pytestおよびpytest-covカバレッジ測定ツール。  
* **実装計画:**  
  1. **単体テストの拡充:** 各認知モジュールの単体テスト（tests/cognitive\_architecture/test\_cognitive\_components.py）を拡充し、エッジケース（例: 空の入力、予期しないデータ型）のカバレッジを向上させる。  
  2. **統合テストの深化:** ArtificialBrainの統合テスト（tests/cognitive\_architecture/test\_artificial\_brain.py）を強化し、単にエラーなく実行されることだけでなく、各モジュールの状態が意図通りに変化したか（例: Hippocampusにエピソードが正しく記録されたか）をアサーションで確認する。  
  3. **CLIテストの追加:** snn-cli.pyに追加されたbrainコマンドが、期待通りに動作することを検証するテストを追加する。  
* **達成指標:** pytest-covによるテストカバレッジ測定で、snn\_research/cognitive\_architectureパッケージのコードカバレッジ80%以上を達成する。

## **Part 3: 実世界への展開に向けて**

**目的:** ソフトウェアシミュレーションと、将来のニューロモーフィックハードウェア上での実行との間のギャップを埋める。

### **フェーズ6：ニューロモーフィック展開パイプライン (Neuromorphic Deployment Pipeline)**

* **目標:** NeuromorphicCompilerの機能を拡張し、生成されたハードウェア構成ファイルを用いて、ターゲットハードウェア上での性能（速度、エネルギー消費）をより正確に予測できるシミュレーションパイプラインを構築する。  
* **主要技術:**  
  * **ハードウェア・イン・ザ・ループ・シミュレーション:** 生成されたYAML構成ファイルを読み込み、hardware/profiles.pyで定義されたエネルギー消費モデルに基づいて、ビット精度のシミュレーションを実行する機能を追加する。  
  * **学習則のコンパイル:** NeuromorphicCompilerを拡張し、ネットワーク構造だけでなく、STDPのような局所学習則もハードウェア命令に変換する研究に着手する（Intel Loihi 2のオンチップ学習機能などを想定）。  
* **実装計画:**  
  1. NeuromorphicCompilerに、コンパイル済みYAMLファイルを実行し、性能レポートを出力するsimulate\_on\_hardwareメソッドを追加する。  
  2. scripts/run\_compiler\_test.pyを更新し、コンパイル後のシミュレーションまでを実行・検証するようにする。  
* **達成指標:** 同じSNNモデルでも、異なるハードウェアプロファイル（例: default vs 架空のlow\_power\_edge）でシミュレーションした際に、エネルギー消費や処理速度に理論的に妥当な差が見られることを確認する。

### **3\. 結論**

このロードマップv8.0は、ArtificialBrainという生命の器に、より高度な知性と魂を吹き込むための次なるステップを定義するものである。各コンポーネントを高忠実度なものへと進化させ、システム全体の安定性と操作性を確保することで、本プロジェクトは単なるシミュレーションから、実世界の問題解決能力を持つ真の脳型知能へと飛躍するだろう。
